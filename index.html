<html>
    <meta charset="utf-8">
    <head>
        <title>Toy Project: ELECTION0601</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    </head>
    <style type="text/css">
    @font-face {
        font-family: 'SBAggroB';
        src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2108@1.1/SBAggroB.woff') format('woff');
        font-weight: normal;
        font-style: normal;
    }
    body {
        font-family:'SBAggroB';
        font-size:10pt;
    }
    .dmj {
        color: #0042A1;
    }
    .ppp {
        color:#E61E2B;
        text-align:right;
    }
    h6{
        text-align:center;
    }
    .accordion-button{
        color:#FFFFFF!important;
    }
    .bg-dmj{
        background-color:#0042A1!important;
    }
    .bg-ppp{
        background-color:#E61E2B!important;
    }
    .progress.col-12{
        margin-left: calc(var(--bs-gutter-x) * .5);
        margin-right: calc(var(--bs-gutter-x) * .5);
        margin-top: 0.5rem;
        padding-left: unset;
        padding-right: unset;
        width: calc(100% - var(--bs-gutter-x));
        --bs-progress-height: 1.3rem;
    }
    .col-2{
        padding-top:90px;
    }
    .accordion{
        margin-top: 0.5rem;
    }
    </style>
    <body>
<div class="container">
    <header class="d-flex flex-wrap justify-content-center py-3 mb-4 border-bottom">
    <a href="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-dark text-decoration-none">
    <span class="fs-4">재미삼아만들어본_2022지방선거</span>
    </a>
    <!--
    <ul class="nav nav-pills">
    <li class="nav-item"><a href="#" class="nav-link active" aria-current="page">Home</a></li>
    <li class="nav-item"><a href="#" class="nav-link">Features</a></li>
    <li class="nav-item"><a href="#" class="nav-link">Pricing</a></li>
    <li class="nav-item"><a href="#" class="nav-link">FAQs</a></li>
    <li class="nav-item"><a href="#" class="nav-link">About</a></li>
    </ul>
    -->
    </header>
</div>

        <div class="container" id="main">
            <!--
            <div class="accordion">
                <div class="accordion-item">
                    <h2 class="accordion-header">
                    <button class="accordion-button bg-dmj" type="button" data-bs-toggle="collapse" data-bs-target="#seoul">
                    서울 (개표율 0.0%)
                    </button>
                    </h2>
                    <div class="accordion-body row collapse show" id="seoul">
                        <div class="col-5">
                            <div class="float-start">
                                <div class="row" style="display:flex;">
                                    <div style="width:auto;">
                                        <img id="seoul-img-1" src="" class="rounded img-thumbnail" style="max-height:150px;max-width:100%;">
                                    </div>
                                    <div style="width:auto;">
                                        <h5 class="dmj">민주</h5><h2 class="dmj" id="seoul-name-1"></h2><h2 class="dmj">47.8%</h2>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-2" style="padding-top:calc(150px-1rem);"><h6>표차</h6><h6 id="seoul-diff">0</h6></div>
                        <div class="col-5">
                            <div class="float-end">
                                <div class="row" style="display:flex;">
                                    <div style="width:auto;">
                                        <h5 class="ppp">국민</h5><h2 class="ppp" id="seoul-name-2"></h2><h2 class="ppp">48.4%</h2>
                                    </div>
                                    <div style="width:auto;">
                                        <img id="seoul-img-2" src="" class="rounded img-thumbnail" style="max-height:150px;max-width:100%;">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="progress col-12">
                            <div class="progress-bar bg-dmj" role="progressbar" style="width: 47.8%"></div>
                            <div class="progress-bar bg-secondary" role="progressbar" style="width: 3.8%"></div>
                            <div class="progress-bar bg-ppp" role="progressbar" style="width: 48.4%"></div>
                          </div>
                    </div>
                </div>
            </div>
            -->
        </div>
        <script>
            $(() => {
            // Step 1: Basic Informations
            $.get("/targets.txt", (data) => {
                const mainFrame = $("#main");
                x = data.split('\n');
                uids = [];
                //document.writeln(x.length);

                for(var i=0;i<17;i++){
                    tokens = x[i].trim().split(' ');
                    uids.push(tokens[1]);
                    mainFrame.append(`
                    <div class="accordion">
                        <div class="accordion-item">
                            <h2 class="accordion-header"><button class="accordion-button bg-ppp" type="button" data-bs-toggle="collapse" data-bs-target="#${tokens[1]}">
                                [확실] ${tokens[0]} - 개표율 0.0%
                            </button>
                            </h2>
                            <div class="accordion-body row collapse show" id="${tokens[1]}">
                                <div class="col-5">
                                    <div class="float-start">
                                        <div class="row" style="display:flex;">
                                            <div style="width:auto;">
                                                <img id="${tokens[1]}-img-1" src="" class="rounded img-thumbnail" style="max-height:150px;max-width:100%;">
                                            </div>
                                            <div style="width:auto;">
                                                <h5 class="dmj">민주</h5><h2 class="dmj" id="${tokens[1]}-name-1"></h2><h2 class="dmj">47.8%</h2>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-2" style="padding-top:calc(150px-1rem);"><h6>표차</h6><h6 id="${tokens[1]}-diff">0</h6></div>
                                <div class="col-5">
                                    <div class="float-end">
                                        <div class="row" style="display:flex;">
                                            <div style="width:auto;">
                                                <h5 class="ppp">국민</h5><h2 class="ppp" id="${tokens[1]}-name-2"></h2><h2 class="ppp">48.4%</h2>
                                            </div>
                                            <div style="width:auto;">
                                                <img id="${tokens[1]}-img-2" src="" class="rounded img-thumbnail" style="max-height:150px;max-width:100%;">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="progress col-12">
                                    <div class="progress-bar bg-dmj" role="progressbar" style="width: 47.8%"></div>
                                    <div class="progress-bar bg-secondary" role="progressbar" style="width: 3.8%"></div>
                                    <div class="progress-bar bg-ppp" role="progressbar" style="width: 48.4%"></div>
                                </div>
                                <div class="col-12" id="${tokens[1]}-details">
                                </div>
                            </div>
                        </div>
                    </div>`);
                    $("#" + tokens[1] + "-img-1").attr("src", tokens[2]);
                    $("#" + tokens[1] + "-img-2").attr("src", tokens[3]);
                    $("#" + tokens[1] + "-name-1").text(tokens[4]);
                    $("#" + tokens[1] + "-name-2").text(tokens[5]);
                }
                for(var i=0;i<17;i++){
                    $.get("/details/" + uids[i] + ".txt", (data) => {
                        console.log(data);
                    });
                }
            });
        
        
            });
        </script>        
    </body>
</html>